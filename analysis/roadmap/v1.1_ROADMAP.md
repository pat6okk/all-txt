# Roadmap v1.1 - PrÃ³ximas 4-6 Semanas

**Objetivo:** Pulir v1.0, optimizar rendimiento, fijar bugs crÃ­ticos.

**Lema:** "Estable, rÃ¡pido y confiable"

---

## ğŸš¨ Prioridad CRÃTICA

### 1. US-7.3: AuditorÃ­a de Memory Leaks

**Â¿Por quÃ©?** Los usuarios reportan lentitud despuÃ©s de horas de uso.

**Scope:**
- AuditorÃ­a manual de code (2-4 horas)
- Testing con Chrome DevTools (2-4 horas)
- Implementar mitigaciones (4-8 horas)

**Criterios de AceptaciÃ³n:**
- âœ… Sin memory leaks detectados en heap snapshots
- âœ… Test automatizado de memory leak en suite
- âœ… DocumentaciÃ³n en README de "Known Limitations"

**Timeline:** SEMANA 1

**Owner:** Lead dev (crÃ­tico)

---

## ğŸ”¥ Prioridad ALTA

### 2. US-1.1 + US-1.2: Strict Parser & Block Content

**Â¿Por quÃ©?** Cambio de paradigma fundamental: eliminaciÃ³n de prefijos, detecciÃ³n al inicio de lÃ­nea y soporte de bloques delimitados.

**Scope:**
- **US-1.1:** Modificar parser para detecciÃ³n estricta (sin listas/viÃ±etas) (4-6 horas)
- **US-1.2:** Implementar lÃ³gica de captura de bloque hasta `---` (6-8 horas)
- Actualizar modelo de datos `Task` para incluir `body` o `children` (2-3 horas)
- Adaptar highlighter al nuevo regex simplificado (2 horas)
- Testing exhaustivo de parser y visualizaciÃ³n (4 horas)

**Criterios de AceptaciÃ³n:**
- âœ… Parser solo detecta keywords al inicio de lÃ­nea (o con indentaciÃ³n)
- âœ… Parser captura contenido de bloque hasta `---` o siguiente keyword
- âœ… Panel del plugin renderiza subtareas y contenido del bloque
- âœ… Tests cubren casos de bloques complejos, anidaciÃ³n, lÃ­mites

**Timeline:** SEMANA 1-3

**Owner:** Backend lead + Frontend dev

---

### 3. US-1.5: Context Menu - Quick Conversion

**Â¿Por quÃ©?** UX crÃ­tica para adopciÃ³n del nuevo sistema de bloques.

**Scope:**
- Implementar menÃº contextual en editor (2-3 horas)
- LÃ³gica de transformaciÃ³n de selecciÃ³n (2 horas)
- GeneraciÃ³n dinÃ¡mica de submenÃº con keywords configuradas (1 hora)
- Testing de casos borde (sin selecciÃ³n, selecciÃ³n multilÃ­nea) (2 horas)

**Criterios de AceptaciÃ³n:**
- âœ… Click derecho muestra "FLOW: Convert to..." cuando hay selecciÃ³n
- âœ… SubmenÃº lista keywords dinÃ¡micamente desde settings
- âœ… TransformaciÃ³n aÃ±ade keyword al inicio y `---` al final
- âœ… Mantiene formato interno sin cambios destructivos

**Timeline:** SEMANA 2-3

**Owner:** Frontend dev

---

### 3. US-6.3: Visible Refresh Slider

**Â¿Por quÃ©?** Usuario no puede ajustar rendimiento (slider no aparece).

**Scope:**
- Auditar por quÃ© no aparece en UI (1 hora)
- Fix de CSS o layout (1-2 horas)
- Testing en diferentes temas (1 hora)

**Criterios de AceptaciÃ³n:**
- âœ… Slider visible en settings panel
- âœ… Rango 10s - 300s funcional
- âœ… Change event actualiza `refreshInterval`

**Timeline:** SEMANA 2

**Owner:** Frontend dev

---

### 4. US-3.2: Global Return Logic

**Â¿Por quÃ©?** Workflows no regresan correctamente (requiere refinamiento).

**Scope:**
- Analizar casos de uso (2 horas)
- Implementar lÃ³gica de retorno global (3-4 horas)
- AÃ±adir tests unitarios (2 horas)

**Criterios de AceptaciÃ³n:**
- âœ… Implementada lÃ³gica de "retorno global" del primer flujo
- âœ… Tests validam retorno correcto
- âœ… Documentar en ARCHITECTURE.md

**Timeline:** SEMANA 2-3

**Owner:** Backend dev

---

### 5. US-2.4: Highlighter Performance Validation

**Â¿Por quÃ©?** Performance no validado en documentos grandes.

**Scope:**
- Benchmark con documentos de 5000+ lÃ­neas (2 horas)
- Profile con DevTools (2 horas)
- Optimizar si es necesario (4-8 horas)

**Criterios de AceptaciÃ³n:**
- âœ… Documentos 5000+ lÃ­neas: <100ms per change
- âœ… DevTools profile sin hotspots obviamente mejorables
- âœ… O documentar como "conocida limitaciÃ³n"

**Timeline:** SEMANA 3

**Owner:** Backend + perf engineer

---

## ğŸ“‹ Prioridad MEDIA

### 6. DocumentaciÃ³n TÃ©cnica

**Scope:**
- Completar `ARCHITECTURE.md` (en progress)
- Crear `PARSER_IMPLEMENTATION.md` (2-3 horas)
- Crear `MEMORY_AUDIT.md` con plan (2 horas)

**Criterios de AceptaciÃ³n:**
- âœ… Nuevos devs pueden entender arquitectura en < 30 min
- âœ… Documentado cÃ³mo extender parser
- âœ… Plan de auditorÃ­a memory claramente definido

**Timeline:** SEMANA 1-2 (paralelo a features)

**Owner:** Tech lead

---

### 7. Testing Suite Expansion

**Scope:**
- AÃ±adir tests para US-3.2 (workflows) (2 horas)
- AÃ±adir test de memory leak (1-2 horas)
- Aumentar cobertura a >70% (3-4 horas)

**Criterios de AceptaciÃ³n:**
- âœ… Cobertura >70%
- âœ… CI/CD ejecuta tests en cada push
- âœ… Test de memory leak pasa

**Timeline:** SEMANA 2-3

**Owner:** QA / Backend dev

---

## ğŸ“ Prioridad BAJA (Post-v1.1)

### Consideraciones para v1.2

- US-2.2: AgrupaciÃ³n visual por estado
- US-4.3: Umbrales configurables de vencimiento
- US-7.1: Carga progresiva para bÃ³vedas grandes
- ExportaciÃ³n (US-8.2) - validar demanda

---

## Sprint Schedule

| Semana | Focus | Owner |
|--------|-------|-------|
| 1 | Memory audit + Strict Parser (US-1.1) | Backend lead |
| 2 | Block Content (US-1.2) + Context Menu (US-1.5) | Backend + Frontend |
| 3 | Global return logic + slider visible | Backend + Frontend |
| 4-6 | Performance testing + refinement | QA + all |

---

## MÃ©tricas de Ã‰xito

- âœ… 0 memory leaks detectados
- âœ… Highlighter accuracy > 99%
- âœ… Performance: archivo 5000 lÃ­neas < 100ms
- âœ… Testing cobertura > 70%
- âœ… 0 critical/blocker bugs abiertos
- âœ… DocumentaciÃ³n completa (ARCHITECTURE + parser + memory audit)

---

## Unknowns / Risks

| Risk | Mitigation |
|------|-----------|
| Memory leak difÃ­cil de detectar | Usar DevTools profiler desde inicio |
| Highlighter regex complejo | Considerar alternativa (simplificar) |
| Workflows jerÃ¡rquicos confusos | Documentar bien el design |
| Testing insuficiente | Aumentar cobertura gradualmente |

---

## Post-v1.1 (v1.2 Vision)

```
v1.2 Features (8-10 semanas despuÃ©s v1.1):
â”œâ”€ Carga progresiva (4 fases)
â”œâ”€ AgrupaciÃ³n visual por estado
â”œâ”€ Umbrales configurables
â”œâ”€ Filtros avanzados
â”œâ”€ Modal de ediciÃ³n inline de fechas
â”œâ”€ ExportaciÃ³n a CSV/JSON (bÃ¡sico)
â””â”€ DocumentaciÃ³n completa

v2.0 Vision (3+ meses despuÃ©s v1.2):
â”œâ”€ API MCP para IA
â”œâ”€ SincronizaciÃ³n profunda con otros plugins
â”œâ”€ Dash board / analytics
â””â”€ Apps mÃ³vil nativa (futuro lejano)
```

---

**PrÃ³xima revisiÃ³n:** Fin de v1.1 (6 semanas)
